INFO:     Will watch for changes in these directories: ['/Users/naman/Enculture-Intelligence-Platform/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [40149] using WatchFiles
INFO:     Started server process [40160]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ðŸš€ Starting Enculture Backend API...
Environment: development
Debug Mode: True
INFO:     127.0.0.1:55371 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55373 - "GET /health HTTP/1.1" 200 OK
2025-09-07 05:24:15 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-07 05:24:15 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-07 05:24:15 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112853460>
2025-09-07 05:24:15 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112853460>
2025-09-07 05:24:15 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10c394900> server_hostname='api.openai.com' timeout=5.0
2025-09-07 05:24:15 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10c394900> server_hostname='api.openai.com' timeout=5.0
2025-09-07 05:24:15 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112853430>
2025-09-07 05:24:15 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112853430>
2025-09-07 05:24:15 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:24:15 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:24:15 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:24:15 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:24:15 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:24:15 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:24:15 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-07 05:24:15 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-07 05:24:15 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-07 05:24:15 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-07 05:24:21 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:24:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'449501'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'66ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_3d9d46ed474b93890f0438758c5e0eea'), (b'openai-processing-ms', b'5646'), (b'x-envoy-upstream-service-time', b'5650'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=68Wmv8iojyWPjQNqiTo3T.fQ6dS2HIy9K02ZZzPgrJ8-1757247861-1.0.1.1-Nu.YLFsSscXnAivnfnvElYGi7NMxQiNPDUdxOmZqcaDyp5ZelZQq0EQX2BTAN54toqUxeCcIK9Z3AmRa8LCSzy.n1Ombb367HG6e7LVWrEE; path=/; expires=Sun, 07-Sep-25 12:54:21 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=5l.h75BkR.P0lccBVp38tWqrt6ZJVOBsk3K7mdBwtBA-1757247861735-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62e9bfe71b89e-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:24:21 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:24:21 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'449501'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'66ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_3d9d46ed474b93890f0438758c5e0eea'), (b'openai-processing-ms', b'5646'), (b'x-envoy-upstream-service-time', b'5650'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=68Wmv8iojyWPjQNqiTo3T.fQ6dS2HIy9K02ZZzPgrJ8-1757247861-1.0.1.1-Nu.YLFsSscXnAivnfnvElYGi7NMxQiNPDUdxOmZqcaDyp5ZelZQq0EQX2BTAN54toqUxeCcIK9Z3AmRa8LCSzy.n1Ombb367HG6e7LVWrEE; path=/; expires=Sun, 07-Sep-25 12:54:21 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=5l.h75BkR.P0lccBVp38tWqrt6ZJVOBsk3K7mdBwtBA-1757247861735-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62e9bfe71b89e-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:24:21 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:24:21 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:24:21 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:24:21 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:24:21 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:24:21 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:24:21 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-07 05:24:21 - httpcore.http11 - DEBUG - response_closed.complete
INFO:     127.0.0.1:55375 - "GET /api/v1/chat/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55393 - "POST /api/v1/chat/threads HTTP/1.1" 200 OK
2025-09-07 05:24:22 - app.api.v1.endpoints.chat - INFO - Received streaming chat request for thread cb59f025-91ad-4eb5-8dd6-d3c2005b870a
2025-09-07 05:24:22 - app.api.v1.endpoints.chat - INFO - Received streaming chat request for thread cb59f025-91ad-4eb5-8dd6-d3c2005b870a
INFO:     127.0.0.1:55395 - "POST /api/v1/chat/stream-with-thread?thread_id=cb59f025-91ad-4eb5-8dd6-d3c2005b870a&prompt=hello HTTP/1.1" 200 OK
2025-09-07 05:24:22 - app.services.openai_service - INFO - Initiating gpt-4.1 Responses API call with web search: True
2025-09-07 05:24:22 - app.services.openai_service - INFO - Initiating gpt-4.1 Responses API call with web search: True
2025-09-07 05:24:22 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:24:22 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:24:22 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:24:22 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:24:22 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:24:22 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:24:22 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-07 05:24:22 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-07 05:24:22 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-07 05:24:22 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-07 05:24:22 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json')}
2025-09-07 05:24:23 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:24:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'449485'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'68ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_10384549c6e3f2ab4d05c28e5c82740a'), (b'openai-processing-ms', b'968'), (b'x-envoy-upstream-service-time', b'971'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62ec1df29b89e-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:24:23 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:24:23 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'449485'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'68ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_10384549c6e3f2ab4d05c28e5c82740a'), (b'openai-processing-ms', b'968'), (b'x-envoy-upstream-service-time', b'971'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62ec1df29b89e-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:24:23 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:24:23 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:24:23 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:24:23 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:24:23 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:24:23 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:24:23 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-07 05:24:23 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-07 05:24:23 - watchfiles.main - DEBUG - 2 changes detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json'), (<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/.DS_Store')}
2025-09-07 05:24:25 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:24:25 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:24:25 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:24:25 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:24:25 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:24:25 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:24:25 - httpcore.http11 - DEBUG - send_request_body.complete
INFO:     127.0.0.1:55430 - "GET /api/v1/chat/threads/recent?limit=10 HTTP/1.1" 200 OK
2025-09-07 05:24:25 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-07 05:24:25 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-07 05:24:25 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
INFO:     127.0.0.1:55432 - "OPTIONS /api/v1/chat/threads HTTP/1.1" 200 OK
INFO:     127.0.0.1:55430 - "GET /api/v1/chat/threads/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55432 - "POST /api/v1/chat/threads HTTP/1.1" 200 OK
INFO:     127.0.0.1:55430 - "POST /api/v1/chat/threads HTTP/1.1" 200 OK
INFO:     127.0.0.1:55430 - "GET /api/v1/chat/threads/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55432 - "GET /api/v1/chat/threads/recent?limit=10 HTTP/1.1" 200 OK
2025-09-07 05:24:25 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json')}
2025-09-07 05:24:28 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/.DS_Store')}
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:24:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'449500'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'66ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_b833af736736169034b5139e814cdcf7'), (b'openai-processing-ms', b'5212'), (b'x-envoy-upstream-service-time', b'5215'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62ed7cbdab89e-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:24:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'449500'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'66ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_b833af736736169034b5139e814cdcf7'), (b'openai-processing-ms', b'5212'), (b'x-envoy-upstream-service-time', b'5215'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62ed7cbdab89e-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - response_closed.complete
INFO:     127.0.0.1:55429 - "GET /api/v1/chat/health HTTP/1.1" 200 OK
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-07 05:24:30 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
INFO:     127.0.0.1:55465 - "GET /api/v1/chat/threads/cb59f025-91ad-4eb5-8dd6-d3c2005b870a HTTP/1.1" 200 OK
2025-09-07 05:24:36 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:24:36 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'449500'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'66ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_aaa4eb9d7947e65c78f98db6c645e211'), (b'openai-processing-ms', b'5372'), (b'x-envoy-upstream-service-time', b'5389'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62ef8efd2b89e-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:24:36 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:24:36 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'449500'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'66ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_aaa4eb9d7947e65c78f98db6c645e211'), (b'openai-processing-ms', b'5372'), (b'x-envoy-upstream-service-time', b'5389'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62ef8efd2b89e-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:24:36 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:24:36 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:24:36 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:24:36 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:24:36 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:24:36 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:24:36 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-07 05:24:36 - httpcore.http11 - DEBUG - response_closed.complete
INFO:     127.0.0.1:55429 - "GET /api/v1/chat/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55429 - "GET /api/v1/chat/threads/culture-004 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55532 - "OPTIONS /api/v1/chat/stream-with-thread?thread_id=culture-004&prompt=can%20you%20summarize%20what%20you%20just%20said%20in%20markdown%20formatted HTTP/1.1" 200 OK
2025-09-07 05:24:56 - app.api.v1.endpoints.chat - INFO - Received streaming chat request for thread culture-004
2025-09-07 05:24:56 - app.api.v1.endpoints.chat - INFO - Received streaming chat request for thread culture-004
INFO:     127.0.0.1:55532 - "POST /api/v1/chat/stream-with-thread?thread_id=culture-004&prompt=can%20you%20summarize%20what%20you%20just%20said%20in%20markdown%20formatted HTTP/1.1" 200 OK
2025-09-07 05:24:56 - app.services.openai_service - INFO - Initiating gpt-4.1 Responses API call with web search: True
2025-09-07 05:24:56 - app.services.openai_service - INFO - Initiating gpt-4.1 Responses API call with web search: True
2025-09-07 05:24:56 - httpcore.connection - DEBUG - close.started
2025-09-07 05:24:56 - httpcore.connection - DEBUG - close.started
2025-09-07 05:24:56 - httpcore.connection - DEBUG - close.complete
2025-09-07 05:24:56 - httpcore.connection - DEBUG - close.complete
2025-09-07 05:24:56 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-07 05:24:56 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-07 05:24:56 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112c3df10>
2025-09-07 05:24:56 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112c3df10>
2025-09-07 05:24:56 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10c394900> server_hostname='api.openai.com' timeout=5.0
2025-09-07 05:24:56 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10c394900> server_hostname='api.openai.com' timeout=5.0
2025-09-07 05:24:56 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112c3deb0>
2025-09-07 05:24:56 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112c3deb0>
2025-09-07 05:24:56 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:24:56 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:24:56 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:24:56 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:24:56 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:24:56 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:24:56 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-07 05:24:56 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-07 05:24:56 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-07 05:24:56 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-07 05:24:56 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json')}
2025-09-07 05:24:56 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/.DS_Store')}
2025-09-07 05:24:58 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:24:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'448596'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'187ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_6d152b176dc13ea579203622f6de0e8e'), (b'openai-processing-ms', b'2746'), (b'x-envoy-upstream-service-time', b'2750'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62f96dd0930ec-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:24:58 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:24:58 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'448596'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'187ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_6d152b176dc13ea579203622f6de0e8e'), (b'openai-processing-ms', b'2746'), (b'x-envoy-upstream-service-time', b'2750'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62f96dd0930ec-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:24:58 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:24:58 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:24:58 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:24:58 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:24:58 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:24:58 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:24:58 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-07 05:24:58 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-07 05:25:00 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json')}
2025-09-07 05:25:04 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/.DS_Store')}
INFO:     127.0.0.1:55537 - "OPTIONS /api/v1/chat/stream-with-thread?thread_id=culture-004&prompt=give%20me%20a%20short%20essay%20on%20culture HTTP/1.1" 200 OK
2025-09-07 05:25:11 - app.api.v1.endpoints.chat - INFO - Received streaming chat request for thread culture-004
2025-09-07 05:25:11 - app.api.v1.endpoints.chat - INFO - Received streaming chat request for thread culture-004
INFO:     127.0.0.1:55537 - "POST /api/v1/chat/stream-with-thread?thread_id=culture-004&prompt=give%20me%20a%20short%20essay%20on%20culture HTTP/1.1" 200 OK
2025-09-07 05:25:11 - app.services.openai_service - INFO - Initiating gpt-4.1 Responses API call with web search: True
2025-09-07 05:25:11 - app.services.openai_service - INFO - Initiating gpt-4.1 Responses API call with web search: True
2025-09-07 05:25:11 - httpcore.connection - DEBUG - close.started
2025-09-07 05:25:11 - httpcore.connection - DEBUG - close.started
2025-09-07 05:25:11 - httpcore.connection - DEBUG - close.complete
2025-09-07 05:25:11 - httpcore.connection - DEBUG - close.complete
2025-09-07 05:25:11 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-07 05:25:11 - httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-09-07 05:25:11 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112c07040>
2025-09-07 05:25:11 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112c07040>
2025-09-07 05:25:11 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10c394900> server_hostname='api.openai.com' timeout=5.0
2025-09-07 05:25:11 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10c394900> server_hostname='api.openai.com' timeout=5.0
2025-09-07 05:25:11 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112c07070>
2025-09-07 05:25:11 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x112c07070>
2025-09-07 05:25:11 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:25:11 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-09-07 05:25:11 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:25:11 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-09-07 05:25:11 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:25:11 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-09-07 05:25:11 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-07 05:25:11 - httpcore.http11 - DEBUG - send_request_body.complete
2025-09-07 05:25:11 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-07 05:25:11 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-09-07 05:25:12 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json')}
2025-09-07 05:25:15 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/.DS_Store')}
2025-09-07 05:25:15 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:25:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'448341'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'221ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_7e1b74dbcd2636e7c2fc36e9b67f0726'), (b'openai-processing-ms', b'3661'), (b'x-envoy-upstream-service-time', b'3664'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62ff9edc0ec5c-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:25:15 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 07 Sep 2025 12:25:15 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'450000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'448341'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'221ms'), (b'openai-version', b'2020-10-01'), (b'openai-organization', b'user-knjlzgxswesrudhiuqhfddgj'), (b'openai-project', b'proj_5U72iGaa6G8r6dGo2gXOIAt4'), (b'x-request-id', b'req_7e1b74dbcd2636e7c2fc36e9b67f0726'), (b'openai-processing-ms', b'3661'), (b'x-envoy-upstream-service-time', b'3664'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'97b62ff9edc0ec5c-SEA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-09-07 05:25:15 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:25:15 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-09-07 05:25:15 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:25:15 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-09-07 05:25:15 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:25:15 - httpcore.http11 - DEBUG - response_closed.started
2025-09-07 05:25:15 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-07 05:25:15 - httpcore.http11 - DEBUG - response_closed.complete
2025-09-07 05:25:16 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json')}
2025-09-07 05:25:20 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/.DS_Store')}
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/fc0c132b-5108-4ed5-855a-24247c0588a2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/culture-003 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/63ee145c-ed3e-47f1-9404-c58adca223f2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/554b752e-d9e0-412a-9e27-bee78b5420f5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/fc0c132b-5108-4ed5-855a-24247c0588a2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "OPTIONS /api/v1/chat/threads/f3a6b59b-fc71-438a-b7c9-b490c0eb90f6 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "DELETE /api/v1/chat/threads/f3a6b59b-fc71-438a-b7c9-b490c0eb90f6 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/recent?limit=10 HTTP/1.1" 200 OK
2025-09-07 05:25:34 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json')}
INFO:     127.0.0.1:55540 - "OPTIONS /api/v1/chat/threads/ab125cef-83d0-4026-b25c-d5e64b7f28eb HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "DELETE /api/v1/chat/threads/ab125cef-83d0-4026-b25c-d5e64b7f28eb HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/recent?limit=10 HTTP/1.1" 200 OK
2025-09-07 05:25:35 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json')}
INFO:     127.0.0.1:55540 - "OPTIONS /api/v1/chat/threads/c87addf1-9fe9-46b6-9aac-18ce8e0dae76 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "DELETE /api/v1/chat/threads/c87addf1-9fe9-46b6-9aac-18ce8e0dae76 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/recent?limit=10 HTTP/1.1" 200 OK
2025-09-07 05:25:36 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json')}
INFO:     127.0.0.1:55540 - "OPTIONS /api/v1/chat/threads/63ee145c-ed3e-47f1-9404-c58adca223f2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "DELETE /api/v1/chat/threads/63ee145c-ed3e-47f1-9404-c58adca223f2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/recent?limit=10 HTTP/1.1" 200 OK
2025-09-07 05:25:38 - watchfiles.main - DEBUG - 2 changes detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json'), (<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/.DS_Store')}
INFO:     127.0.0.1:55540 - "OPTIONS /api/v1/chat/threads/554b752e-d9e0-412a-9e27-bee78b5420f5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "DELETE /api/v1/chat/threads/554b752e-d9e0-412a-9e27-bee78b5420f5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/recent?limit=10 HTTP/1.1" 200 OK
2025-09-07 05:25:39 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json')}
INFO:     127.0.0.1:55540 - "OPTIONS /api/v1/chat/threads/fc0c132b-5108-4ed5-855a-24247c0588a2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "DELETE /api/v1/chat/threads/fc0c132b-5108-4ed5-855a-24247c0588a2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/fc0c132b-5108-4ed5-855a-24247c0588a2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55540 - "GET /api/v1/chat/threads/recent?limit=10 HTTP/1.1" 200 OK
2025-09-07 05:25:41 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/data/chat_threads.json')}
2025-09-07 05:25:44 - watchfiles.main - DEBUG - 1 change detected: {(<Change.modified: 2>, '/Users/naman/Enculture-Intelligence-Platform/backend/.DS_Store')}
